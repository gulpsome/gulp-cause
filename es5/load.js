'use strict';

exports.__esModule = true;
exports['default'] = load;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _ramda = require('ramda');

var _ramda2 = _interopRequireDefault(_ramda);

function dataError(what) {
  throw new Error('Don\'t know how to convert ' + what.toString() + ' to Map.');
}

function atom(a) {
  // Array-to-Map conversion, where a is a flat array of even length >= 2
  var m = new Map();
  for (var i = 0; i < a.length; i = i + 2) {
    m.set(i, i + 1);
  }
  return m;
}

function load(what) {
  switch (_ramda2['default'].type(what)) {
    case 'Map':
      return what;
    case 'Object':
      return new Map(_ramda2['default'].toPairs(what));
    case 'Array':
      if (what.length === 0) return new Map();else if (_ramda2['default'].type(what[0]) === 'Array' && what[0].length === 2) return new Map(what);else if (what.length % 2 === 0) return atom(what);else dataError(what);
      break;
    default:
      dataError(what);
  }
}

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xvYWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O3FCQWV3QixJQUFJOzs7O3FCQWZkLE9BQU87Ozs7QUFFckIsU0FBUyxTQUFTLENBQUUsSUFBSSxFQUFFO0FBQ3hCLFFBQU0sSUFBSSxLQUFLLGlDQUE4QixJQUFJLENBQUMsUUFBUSxFQUFFLGNBQVcsQ0FBQTtDQUN4RTs7QUFFRCxTQUFTLElBQUksQ0FBRSxDQUFDLEVBQUU7O0FBRWhCLE1BQUksQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUE7QUFDakIsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDdkMsS0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0dBQ2hCO0FBQ0QsU0FBTyxDQUFDLENBQUE7Q0FDVDs7QUFFYyxTQUFTLElBQUksQ0FBRSxJQUFJLEVBQUU7QUFDbEMsVUFBUSxtQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO0FBQ2xCLFNBQUssS0FBSztBQUNSLGFBQU8sSUFBSSxDQUFBO0FBQUEsQUFDYixTQUFLLFFBQVE7QUFDWCxhQUFPLElBQUksR0FBRyxDQUFDLG1CQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQUEsQUFDakMsU0FBSyxPQUFPO0FBQ1YsVUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUksR0FBRyxFQUFFLENBQUEsS0FDbEMsSUFBSSxtQkFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssT0FBTyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLE9BQU8sSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUEsS0FDN0UsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUEsS0FDNUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQ3BCLFlBQUs7QUFBQSxBQUNQO0FBQ0UsZUFBUyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBQUEsR0FDbEI7Q0FDRiIsImZpbGUiOiJsb2FkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFIgZnJvbSAncmFtZGEnXG5cbmZ1bmN0aW9uIGRhdGFFcnJvciAod2hhdCkge1xuICB0aHJvdyBuZXcgRXJyb3IoYERvbid0IGtub3cgaG93IHRvIGNvbnZlcnQgJHt3aGF0LnRvU3RyaW5nKCl9IHRvIE1hcC5gKVxufVxuXG5mdW5jdGlvbiBhdG9tIChhKSB7XG4gIC8vIEFycmF5LXRvLU1hcCBjb252ZXJzaW9uLCB3aGVyZSBhIGlzIGEgZmxhdCBhcnJheSBvZiBldmVuIGxlbmd0aCA+PSAyXG4gIGxldCBtID0gbmV3IE1hcCgpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgIG0uc2V0KGksIGkgKyAxKVxuICB9XG4gIHJldHVybiBtXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWQgKHdoYXQpIHtcbiAgc3dpdGNoIChSLnR5cGUod2hhdCkpIHtcbiAgICBjYXNlICdNYXAnOlxuICAgICAgcmV0dXJuIHdoYXRcbiAgICBjYXNlICdPYmplY3QnOlxuICAgICAgcmV0dXJuIG5ldyBNYXAoUi50b1BhaXJzKHdoYXQpKVxuICAgIGNhc2UgJ0FycmF5JzpcbiAgICAgIGlmICh3aGF0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIG5ldyBNYXAoKVxuICAgICAgZWxzZSBpZiAoUi50eXBlKHdoYXRbMF0pID09PSAnQXJyYXknICYmIHdoYXRbMF0ubGVuZ3RoID09PSAyKSByZXR1cm4gbmV3IE1hcCh3aGF0KVxuICAgICAgZWxzZSBpZiAod2hhdC5sZW5ndGggJSAyID09PSAwKSByZXR1cm4gYXRvbSh3aGF0KVxuICAgICAgZWxzZSBkYXRhRXJyb3Iod2hhdClcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIGRhdGFFcnJvcih3aGF0KVxuICB9XG59XG4iXX0=